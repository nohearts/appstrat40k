<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Your existing styles here */

        /* Define styles for smaller screens */
        @media (max-width: 768px) {
            .square {
                /* Adjust styles for squares on smaller screens */
                width: 100%; /* Full width for squares on smaller screens */
            }
            .square h2 {
                /* Adjust font size for h2 on smaller screens */
                font-size: 16px;
            }
            .square p {
                /* Adjust font size for p on smaller screens */
                font-size: 12px;
            }
            .button-container {
                /* Adjust styles for button containers on smaller screens */
                text-align: center;
            }
        }
    </style>
    <script>
        var xmlFileURL = "stratagems.xml";
        var counter = 0;

        // Function to update the counter and display it
        function updateCounter() {
            document.getElementById('counter').innerHTML = counter;
        }

        // Function to handle incrementing the counter
        function incrementCounter() {
            counter++;
            updateCounter();
        }

        // Function to handle decrementing the counter
        function decrementCounter(value) {
            if (counter - value >= 0) {
                counter -= value;
                updateCounter();
            }
        }

        // Function to fetch and parse XML data
        function fetchData() {
            fetch(xmlFileURL)
                .then(response => response.text())
                .then(data => {
                    var parser = new DOMParser();
                    var xmlData = parser.parseFromString(data, "text/xml");
                    var squares = xmlData.getElementsByTagName("square");
                    var squaresContainer = document.getElementById('squares-container');

                    for (var i = 0; i < squares.length; i++) {
                        var square = squares[i];
                        var title = square.getElementsByTagName("title")[0].textContent;
                        var content = square.getElementsByTagName("content")[0].textContent;
                        var value = parseInt(square.getAttribute("value"));

                        var squareDiv = document.createElement('div');
                        squareDiv.className = 'square';
                        squareDiv.innerHTML = `<h2>${title}</h2><p>${content}</p>`;
                        squareDiv.setAttribute("data-value", value);

                        var buttonContainer = document.createElement('div');
                        buttonContainer.className = 'button-container';
                        var button = document.createElement('button');
                        button.innerText = "Use";
                        button.onclick = (function (value) {
                            return function () {
                                decrementCounter(value);
                            };
                        })(value);

                        buttonContainer.appendChild(button);
                        squareDiv.appendChild(buttonContainer);

                        squaresContainer.appendChild(squareDiv);
                    }

                    updateCounter();
                })
                .catch(error => {
                    console.error("Error fetching XML data: " + error);
                });
        }

        fetchData();
    </script>
</head>
<body>
<div>
    <div style="text-align: center;">
        Counter: <span id="counter">0</span>
        <button onclick="incrementCounter()">Increment</button>
    </div>
</div>
<div id="squares-container">
    <!-- Squares will be generated here once data is fetched -->
</div>
</body>
</html>
